import yahoo_finance as yahoo
import pandas as pd
import numpy as np

def retrieveStockData(tickerSymbol, startDate, endDate, fileName):
    try:
        print('loading data' + tickerSymbol + ' ...')
        historical = yahoo.Share(tickerSymbol).get_historical(startDate, endDate)

        data = pd.DataFrame(historical)
        data = data.drop(['Open', 'Close', 'High', 'Low', 'Volume', 'Symbol', 'Date'], axis=1)

        data['Adj_Close'].to_csv(fileName, index=False)

        print('Wholesale customers dataset has {} samples with {} features each.'.format(*data.shape))
        return data
    except:
        print('Dataset not loaded')

retrieveStockData('AMZN', '1997-05-15', '2016-04-27', 'C:\Users\aaron\PyCharmProjects\pythonProject\data\lstm\AMZN.csv')
